<div class="upload-page">

  <!-- Header -->
  <div class="page-header">
    <div class="header-left">
      <div class="logo">
        <span class="logo-icon">üóÑÔ∏è</span>
        <span class="logo-text">DocVault</span>
      </div>
    </div>
    <nav class="header-nav">
      <a routerLink="/" class="nav-link active">Upload</a>
      <a routerLink="/documents" class="nav-link">My Documents</a>
    </nav>
  </div>

  <!-- Main -->
  <div class="main-content">
    <div class="upload-card">
      <h1 class="card-title">Upload Document</h1>
      <p class="card-subtitle">Securely store your files in Azure Blob Storage</p>

      <!-- Drop Zone -->
      <div
        class="drop-zone"
        [class.drag-active]="dragOver()"
        [class.has-file]="selectedFile"
        (dragover)="onDragOver($event)"
        (dragleave)="onDragLeave()"
        (drop)="onDrop($event)"
        (click)="fileInput.click()"
      >
        <input #fileInput type="file" hidden (change)="onFileSelected($event)" />

        @if (!selectedFile) {
          <div class="drop-content">
            <div class="drop-icon">‚òÅÔ∏è</div>
            <p class="drop-title">Drag & drop your file here</p>
            <p class="drop-sub">or <span class="browse-link">browse to choose</span></p>
            <p class="drop-hint">Supports PDF, DOCX, XLSX, JPG, PNG and more</p>
          </div>
        } @else {
          <div class="file-preview" (click)="$event.stopPropagation()">
            <div class="file-icon">üìÑ</div>
            <div class="file-info">
              <p class="file-name">{{ selectedFile.name }}</p>
              <p class="file-size">{{ formatSize(selectedFile.size) }}</p>
            </div>
            <button class="clear-btn" (click)="clearFile()">‚úï</button>
          </div>
        }
      </div>

      <!-- Status Messages -->
      @if (success()) {
        <div class="alert alert-success">
          ‚úÖ File uploaded successfully! <a routerLink="/documents" class="view-link">View Documents ‚Üí</a>
        </div>
      }

      @if (error()) {
        <div class="alert alert-error">
          ‚ùå {{ error() }}
        </div>
      }

      <!-- Upload Button -->
      <button
        class="upload-btn"
        [disabled]="!selectedFile || uploading()"
        (click)="upload()"
      >
        @if (uploading()) {
          <span class="spinner"></span> Uploading...
        } @else {
          ‚¨ÜÔ∏è Upload File
        }
      </button>
    </div>
  </div>
</div>
